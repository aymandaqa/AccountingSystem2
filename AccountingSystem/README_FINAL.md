# نظام المحاسبة الشامل - Accounting System

## 📋 نظرة عامة

نظام محاسبة شامل ومتطور تم تطويره باستخدام ASP.NET Core 9 MVC مع Entity Framework و SQLite. يوفر النظام جميع الوظائف المحاسبية الأساسية مع واجهة مستخدم عصرية ومتجاوبة باللغة العربية.

## 🎯 المميزات الرئيسية

### 1. إدارة المستخدمين والصلاحيات
- نظام مصادقة آمن مع تشفير كلمات المرور
- إدارة الأدوار والصلاحيات بشكل ديناميكي
- ربط المستخدمين بالفروع والصلاحيات المحددة
- تتبع نشاط المستخدمين وآخر دخول

### 2. إدارة الفروع
- إضافة وتعديل الفروع
- ربط المستخدمين والحسابات بالفروع
- تقارير مالية على مستوى الفرع

### 3. إدارة مراكز التكلفة
- تصنيف المعاملات حسب مراكز التكلفة
- تقارير تفصيلية لكل مركز تكلفة
- ربط الحسابات بمراكز التكلفة

### 4. شجرة الحسابات المتقدمة
- هيكل شجري متعدد المستويات
- تصنيف الحسابات (أصول، خصوم، حقوق ملكية، إيرادات، مصروفات)
- تصنيفات فرعية مفصلة
- عرض تفاعلي لشجرة الحسابات
- إمكانية إضافة وتعديل الحسابات بسهولة

### 5. نظام القيود المالية
- إنشاء وتعديل القيود المالية
- التحقق التلقائي من توازن القيود
- حالات متعددة للقيود (مسودة، مرحل، معتمد، ملغي)
- ترقيم تلقائي للقيود
- ربط القيود بمراكز التكلفة

### 6. التقارير المحاسبية الشاملة
- **ميزان المراجعة**: عرض أرصدة جميع الحسابات
- **الميزانية العمومية**: الأصول والخصوم وحقوق الملكية
- **قائمة الدخل**: الإيرادات والمصروفات وصافي الربح
- **دفتر الأستاذ العام**: تفاصيل حركة الحسابات
- **كشف الحساب**: حركة حساب محدد
- إمكانية تصدير التقارير لـ Excel
- طباعة التقارير

### 7. لوحة التحكم التفاعلية
- ملخص مالي شامل
- رسوم بيانية للاتجاهات المالية
- إحصائيات سريعة
- مؤشرات الأداء المالي

### 8. التصميم العصري والمتجاوب
- واجهة مستخدم عصرية باستخدام Bootstrap 5
- دعم كامل للغة العربية مع RTL
- متوافق مع جميع الشاشات (مكتب، تابلت، جوال)
- أيقونات Font Awesome
- تأثيرات CSS3 متقدمة

## 🛠️ التقنيات المستخدمة

- **Backend**: ASP.NET Core 9 MVC
- **Database**: Entity Framework Core مع SQLite
- **Frontend**: HTML5, CSS3, JavaScript, Bootstrap 5 RTL
- **Charts**: Chart.js للرسوم البيانية
- **Icons**: Font Awesome
- **Authentication**: ASP.NET Core Identity

## 📁 هيكل المشروع

```
AccountingSystem/
├── Controllers/           # المتحكمات
│   ├── AccountController.cs      # المصادقة
│   ├── UsersController.cs        # إدارة المستخدمين
│   ├── BranchesController.cs     # إدارة الفروع
│   ├── CostCentersController.cs  # مراكز التكلفة
│   ├── AccountsController.cs     # شجرة الحسابات
│   ├── JournalEntriesController.cs # القيود المالية
│   ├── ReportsController.cs      # التقارير
│   └── DashboardController.cs    # لوحة التحكم
├── Models/               # النماذج
│   ├── User.cs
│   ├── Branch.cs
│   ├── CostCenter.cs
│   ├── Account.cs
│   ├── JournalEntry.cs
│   └── ...
├── ViewModels/           # نماذج العرض
├── Views/               # الواجهات
│   ├── Account/         # صفحات المصادقة
│   ├── Users/           # إدارة المستخدمين
│   ├── Branches/        # إدارة الفروع
│   ├── CostCenters/     # مراكز التكلفة
│   ├── Accounts/        # شجرة الحسابات
│   ├── JournalEntries/  # القيود المالية
│   ├── Reports/         # التقارير
│   ├── Dashboard/       # لوحة التحكم
│   └── Shared/          # القوالب المشتركة
├── Data/                # قاعدة البيانات
│   ├── ApplicationDbContext.cs
│   └── SeedData.cs
└── wwwroot/            # الملفات الثابتة
    ├── css/
    ├── js/
    └── lib/
```

## 🚀 التثبيت والتشغيل

### المتطلبات
- .NET 9.0 SDK
- Visual Studio 2022 أو VS Code
- Git

### خطوات التثبيت

1. **استنساخ المشروع**
```bash
git clone <repository-url>
cd AccountingSystem
```

2. **استعادة الحزم**
```bash
dotnet restore
```

3. **إنشاء قاعدة البيانات**
```bash
dotnet ef database update
```

4. **تشغيل التطبيق**
```bash
dotnet run
```

5. **فتح المتصفح**
```
http://localhost:5000
```

## 👤 بيانات الدخول الافتراضية

### المدير العام
- **البريد الإلكتروني**: admin@accounting.com
- **كلمة المرور**: Admin123!
- **الصلاحيات**: جميع الصلاحيات

### المحاسب
- **البريد الإلكتروني**: accountant@accounting.com
- **كلمة المرور**: Accountant123!
- **الصلاحيات**: إدارة القيود والتقارير

### المستخدم العادي
- **البريد الإلكتروني**: user@accounting.com
- **كلمة المرور**: User123!
- **الصلاحيات**: عرض التقارير فقط

## 📊 شجرة الحسابات الافتراضية

### الأصول (1000-1999)
- **الأصول المتداولة (1100-1199)**
  - النقدية والبنوك (1110-1119)
  - العملاء والذمم المدينة (1120-1129)
  - المخزون (1130-1139)
  - المصروفات المدفوعة مقدماً (1140-1149)

- **الأصول الثابتة (1200-1299)**
  - الأراضي والمباني (1210-1219)
  - المعدات والآلات (1220-1229)
  - الأثاث والتجهيزات (1230-1239)
  - مجمع الاستهلاك (1240-1249)

### الخصوم (2000-2999)
- **الخصوم المتداولة (2100-2199)**
  - الموردون والذمم الدائنة (2110-2119)
  - القروض قصيرة الأجل (2120-2129)
  - المصروفات المستحقة (2130-2139)

- **الخصوم طويلة الأجل (2200-2299)**
  - القروض طويلة الأجل (2210-2219)
  - السندات (2220-2229)

### حقوق الملكية (3000-3999)
- رأس المال (3100-3199)
- الأرباح المحتجزة (3200-3299)
- الاحتياطيات (3300-3399)

### الإيرادات (4000-4999)
- إيرادات المبيعات (4100-4199)
- الإيرادات الأخرى (4200-4299)

### المصروفات (5000-5999)
- تكلفة البضاعة المباعة (5100-5199)
- المصروفات التشغيلية (5200-5299)
- المصروفات الإدارية (5300-5399)
- المصروفات المالية (5400-5499)

## 🔧 الإعدادات والتخصيص

### إعدادات قاعدة البيانات
يمكن تغيير نوع قاعدة البيانات من SQLite إلى SQL Server أو MySQL عبر تعديل `appsettings.json`:

```json
{
  "ConnectionStrings": {
    "DefaultConnection": "Data Source=accounting.db"
  }
}
```

### إعدادات الأمان
- تشفير كلمات المرور باستخدام BCrypt
- حماية من CSRF
- تسجيل العمليات الحساسة

### إعدادات التقارير
- إمكانية تخصيص تنسيق التقارير
- دعم تصدير متعدد الصيغ
- قوالب طباعة قابلة للتخصيص

## 📱 الاستجابة والتوافق

- **المتصفحات المدعومة**: Chrome, Firefox, Safari, Edge
- **الأجهزة المحمولة**: iOS, Android
- **الشاشات**: من 320px إلى 4K
- **اللغات**: العربية (RTL) والإنجليزية

## 🔒 الأمان والحماية

- **المصادقة**: نظام مصادقة متقدم مع تشفير
- **التفويض**: نظام صلاحيات مرن ومتدرج
- **حماية البيانات**: تشفير البيانات الحساسة
- **تسجيل العمليات**: تتبع جميع العمليات المالية
- **النسخ الاحتياطي**: إمكانية النسخ الاحتياطي التلقائي

## 📈 الأداء والتحسين

- **فهرسة قاعدة البيانات**: فهارس محسنة للاستعلامات السريعة
- **التخزين المؤقت**: تخزين مؤقت للبيانات المتكررة
- **ضغط الملفات**: ضغط CSS و JavaScript
- **تحسين الصور**: تحسين أحجام الصور

## 🐛 المشاكل المعروفة والحلول

### مشاكل البناء الحالية
يحتوي المشروع حالياً على بعض أخطاء البناء التي تحتاج إلى إصلاح:

1. **ViewModels مفقودة**: بعض ViewModels تحتاج إلى إكمال
2. **خصائص مفقودة**: بعض الخصائص في ViewModels تحتاج إلى إضافة
3. **Controllers**: بعض Actions تحتاج إلى تحديث

### الحلول المقترحة
1. إكمال جميع ViewModels المطلوبة
2. تحديث Controllers لتتوافق مع ViewModels
3. إضافة Views المفقودة
4. اختبار شامل للنظام

## 🔄 التطوير المستقبلي

### المميزات المخططة
- **تكامل API**: واجهة برمجة تطبيقات RESTful
- **تطبيق الجوال**: تطبيق Android/iOS
- **الذكاء الاصطناعي**: تحليل مالي ذكي
- **التكامل المصرفي**: ربط مع البنوك
- **المحاسبة الضريبية**: حساب الضرائب تلقائياً

### التحسينات المطلوبة
- **الأداء**: تحسين سرعة الاستعلامات
- **الأمان**: تعزيز الحماية
- **التقارير**: إضافة تقارير متقدمة
- **الواجهة**: تحسين تجربة المستخدم

## 📞 الدعم والمساعدة

### الوثائق
- دليل المستخدم (قيد الإعداد)
- دليل المطور (قيد الإعداد)
- API Documentation (قيد الإعداد)

### المجتمع
- GitHub Issues للمشاكل التقنية
- Wiki للوثائق التفصيلية
- Discussions للنقاشات العامة

## 📄 الترخيص

هذا المشروع مرخص تحت رخصة MIT - راجع ملف [LICENSE](LICENSE) للتفاصيل.

## 🙏 شكر وتقدير

شكر خاص لجميع المساهمين في تطوير هذا النظام والمكتبات مفتوحة المصدر المستخدمة.

---

**ملاحظة**: هذا النظام في مرحلة التطوير ويحتاج إلى اختبار شامل قبل الاستخدام في بيئة الإنتاج.

**تاريخ آخر تحديث**: 2025-08-28
**الإصدار**: 1.0.0-beta

